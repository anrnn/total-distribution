<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8" />
  <title>–ê–∂–ª—ã–Ω –±–∞–π—Ä –Ω—ç–º—ç—Ö - Total Distribution</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding-left: 270px;
      background-color: #f4f6f8;
    }
    .sidebar {
      width: 250px;
      background-color: #2c3e50;
      color: #ecf0f1;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      display: flex;
      flex-direction: column;
      padding: 20px;
    }
    .sidebar .logo img {
      width: 100%;
      max-width: 150px;
      margin: 0 auto 20px;
    }
    .sidebar ul {
      list-style: none;
      padding: 0;
    }
    .sidebar ul li {
      margin: 15px 0;
    }
    .sidebar ul li a {
      color: #ecf0f1;
      text-decoration: none;
      font-size: 1rem;
      display: flex;
      align-items: center;
      padding: 10px 15px;
      border-radius: 5px;
      transition: background-color 0.3s ease;
    }
    .sidebar ul li a:hover {
      background-color: #34495e;
    }
    .icon-holder {
      margin-right: 10px;
    }
    main {
      max-width: 900px;
      margin: 0 auto;
      padding: 30px;
    }
    h1, h3 {
      color: #253169;
    }
    form {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    form label {
      display: block;
      margin: 15px 0 5px;
    }
    form input, form textarea, form select {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    button {
      margin-top: 15px;
      background-color: #04bfe0;
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #253169;
    }
    .folder-questions {
      margin-left: 20px;
      margin-top: 10px;
    }
    .job-list {
      margin-top: 30px;
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
    }
    .job-item {
      background-color: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      width: 100%;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
      position: relative;
    }
    .delete-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #e74c3c;
      color: white;
      border: none;
      border-radius: 3px;
      padding: 5px 8px;
      cursor: pointer;
    }
    .delete-btn:hover {
      background: #c0392b;
    }
  </style>
</head>
<body>
  <nav class="sidebar">
    <div class="logo">
      <a href="dashboard.html"><img src="image\Logo.png" alt="Logo"></a>
    </div>
    <ul>
      <li><a href="admin.html"><span class="icon-holder">üè†</span> –ê–∂–ª—ã–Ω –±–∞–π—Ä –Ω—ç–º—ç—Ö</a></li>
      <li><a href="admin_applications.html"><span class="icon-holder">üì¶</span> –ë”©–≥–ª”©–≥–¥—Å”©–Ω –∞–Ω–∫–µ—Ç–∏–π–≥ —Ö–∞—Ä–∞—Ö</a></li>
    </ul>
  </nav>

  <main>
    <h1>–ê–∂–ª—ã–Ω –±–∞–π—Ä –Ω—ç–º—ç—Ö</h1>
    <form id="jobForm">
      <label>–ê–∂–ª—ã–Ω –Ω—ç—Ä:
        <input type="text" id="title" required />
      </label>
      <label>–ê–∂–ª—ã–Ω —à–∞–∞—Ä–¥–ª–∞–≥–∞:
        <textarea id="requirements" required></textarea>
      </label>
      <label>–ê–Ω–∫–µ—Ç –∞–≤–∞—Ö —ç—Ü—Å–∏–π–Ω —Ö—É–≥–∞—Ü–∞–∞:
        <input type="date" id="deadline" required />
      </label>
      <label>–ê–∂–ª—ã–Ω –±–∞–π—Ä—à–ª—ã–≥ –æ—Ä—É—É–ª–Ω–∞ —É—É:
        <select id="location" required>
          <option value="–£–ª–∞–∞–Ω–±–∞–∞—Ç–∞—Ä">–£–ª–∞–∞–Ω–±–∞–∞—Ç–∞—Ä</option>
          <option value="–î–∞—Ä—Ö–∞–Ω">–î–∞—Ä—Ö–∞–Ω</option>
          <option value="–≠—Ä–¥—ç–Ω—ç—Ç">–≠—Ä–¥—ç–Ω—ç—Ç</option>
        </select>
      </label>

      <div class="question-folders">
        <label><input type="checkbox" id="personalDetailsFolder"> –•—É–≤–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª</label>
        <div id="personalDetailsQuestions" class="folder-questions" style="display:none;">
          <label><input type="checkbox" name="questions" value="urag"> –£—Ä–≥–∏–π–Ω –æ–≤–æ–≥</label>
          <label><input type="checkbox" name="questions" value="firstname"> –≠—Ü—ç–≥/—ç—Ö–∏–π–Ω –Ω—ç—Ä</label>
          <label><input type="checkbox" name="questions" value="lastname"> –ù—ç—Ä</label>
          <label><input type="checkbox" name="questions" value="gender"> –•“Ø–π—Å </label>
          <label><input type="checkbox" name="questions" value="email"> –ò-–º—ç–π–ª</label>
          <label><input type="checkbox" name="questions" value="phone"> –£—Ç–∞—Å–Ω—ã –¥—É–≥–∞–∞—Ä</label> 
          <label><input type="checkbox" name="questions" value="birthdate"> –¢”©—Ä—Å”©–Ω –æ–≥–Ω–æ–æ</label>
          <label><input type="checkbox" name="questions" value="registration"> –†–µ–≥–∏—Å—Ç—Ä–∏–π–Ω –¥—É–≥–∞–∞—Ä</label>
          <label><input type="checkbox" name="questions" value="marrage"> –ì—ç—Ä–ª—ç–ª—Ç–∏–π–Ω –±–∞–π–¥–∞–ª</label>
          <label><input type="checkbox" name="questions" value="driverLicense"> –ñ–æ–ª–æ–æ–Ω—ã “Ø–Ω—ç–º–ª—ç—Ö</label> 
        </div>

        <label><input type="checkbox" id="experienceFolder"> –ê–∂–ª—ã–Ω —Ç—É—Ä—à–ª–∞–≥–∞</label>
        <div id="experienceQuestions" class="folder-questions" style="display:none;">
          <label><input type="checkbox" name="questions" value="education"> –ê–ª–±–∞–Ω —Ç—É—à–∞–∞–ª</label>
          <label><input type="checkbox" name="questions" value="company"> –ö–æ–º–ø–∞–Ω–∏–π –Ω—ç—Ä</label>
          <label><input type="checkbox" name="questions" value="startDate"> –≠—Ö–ª—ç—Ö –æ–≥–Ω–æ–æ</label>
          <label><input type="checkbox" name="questions" value="endDate"> –î—É—É—Å–∞—Ö –æ–≥–Ω–æ–æ</label>
          <label><input type="checkbox" name="questions" value="responsibilities"> –•–∞—Ä–∏—É—Ü—Å–∞–Ω –∞–∂–∏–ª</label>
          <label><input type="checkbox" name="questions" value="experience"> –ê–∂–ª—ã–Ω —Ç—É—Ä—à–ª–∞–≥–∞</label>
        </div>
      </div>

      <button type="submit">–ê–∂–ª—ã–Ω –±–∞–π—Ä –Ω—ç–º—ç—Ö</button>
    </form>

    <h3>”®–º–Ω”© –Ω—ç–º—ç–≥–¥—Å—ç–Ω –∞–∂–ª—ã–Ω –±–∞–π—Ä–Ω—É—É–¥</h3>
    <div id="existingJobsList" class="job-list"></div>
  </main>

  <script>
    document.querySelector('#personalDetailsFolder').addEventListener('change', function() {
      const isChecked = this.checked;
      const container = document.querySelector('#personalDetailsQuestions');
      container.style.display = isChecked ? 'block' : 'none';
      container.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = isChecked);
    });

    document.querySelector('#experienceFolder').addEventListener('change', function() {
      const isChecked = this.checked;
      const container = document.querySelector('#experienceQuestions');
      container.style.display = isChecked ? 'block' : 'none';
      container.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = isChecked);
    });

    const jobForm = document.getElementById('jobForm');
    const existingJobsList = document.getElementById('existingJobsList');

    jobForm.addEventListener('submit', function (e) {
      e.preventDefault();

      const title = document.getElementById('title').value.trim();
      const requirements = document.getElementById('requirements').value.trim();
      const deadline = document.getElementById('deadline').value;
      const location = document.getElementById('location').value;

      const today = new Date().toISOString().split("T")[0];
      if (deadline < today) {
        alert("”®–Ω–≥”©—Ä—Å”©–Ω —Ö—É–≥–∞—Ü–∞–∞—Ç–∞–π –∞–∂–ª—ã–Ω –±–∞–π—Ä –Ω—ç–º—ç—Ö –±–æ–ª–æ–º–∂–≥“Ø–π!");
        return;
      }

      const selectedQuestions = Array.from(document.querySelectorAll('input[name="questions"]:checked')).map(q => q.value);

      const job = {
        id: Date.now(),
        title,
        requirements,
        deadline,
        location,
        questions: selectedQuestions
      };

      const jobs = JSON.parse(localStorage.getItem('jobs') || '[]');
      jobs.push(job);
      localStorage.setItem('jobs', JSON.stringify(jobs));

      alert('–ê–∂–ª—ã–Ω –±–∞–π—Ä –∞–º–∂–∏–ª—Ç—Ç–∞–π –Ω—ç–º—ç–≥–¥–ª—ç—ç!');
      this.reset();
      displayJobs();
    });

    function deleteJob(id) {
      const jobs = JSON.parse(localStorage.getItem('jobs') || '[]');
      const updatedJobs = jobs.filter(job => job.id !== id);
      localStorage.setItem('jobs', JSON.stringify(updatedJobs));
      displayJobs();
    }

    function displayJobs() {
      const jobs = JSON.parse(localStorage.getItem('jobs') || '[]');
      existingJobsList.innerHTML = '';

      if (jobs.length === 0) {
        existingJobsList.innerHTML = "<p>–û–¥–æ–æ–≥–æ–æ—Ä –∞–∂–ª—ã–Ω –±–∞–π—Ä –±“Ø—Ä—Ç–≥—ç–≥–¥—ç—ç–≥“Ø–π –±–∞–π–Ω–∞.</p>";
        return;
      }

      jobs.forEach(job => {
        const div = document.createElement('div');
        div.className = 'job-item';
        div.innerHTML = `
          <button class="delete-btn" onclick="deleteJob(${job.id})">–£—Å—Ç–≥–∞—Ö</button>
          <strong>${job.title}</strong><br>
          <small>${job.requirements}</small>
          <p><strong>üìÖ –•—É–≥–∞—Ü–∞–∞:</strong> ${job.deadline}</p>
          <p><strong>üìç –ë–∞–π—Ä—à–∏–ª:</strong> ${job.location}</p>
          <p><strong>–ê—Å—É—É–ª—Ç—É—É–¥:</strong> ${job.questions.join(', ') || '–ë–∞–π—Ö–≥“Ø–π'}</p>
        `;
        existingJobsList.appendChild(div);
      });
    }

    displayJobs();
  </script>
</body>
</html>
